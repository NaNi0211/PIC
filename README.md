# PIC
<P>ALTE PROJEKTE VON ANDEREN STUDENTEN:
https://github.com/Marsetex/pic16f84-simulator/blob/main/src/main/java/de/marsetex/pic16f84sim/decoder/InstructionDecoder.java
</P>

### Fragen
Wie Soll die Range für Slider sein?<br/><br/>

Jedes 4 Mega Hz = 1 mmico secunde <br/>
Bei 1 MHz benötigt Befehl 4 psek<br/>
Laufzeit bei jedem befehl um 1 erhöhen ausser bei call und goto

### FRONTEND
### Setup GUI on Eclipse: https://www.youtube.com/watch?v=lctZ-NAWgDU

GPR WIE 1.2 Die Registerstruktur des PICs zUSÄTZLICH NOCH SPALTE bEZEICHNUNGEN<br/>
lINKS NEBEN DRAN W; PC; PCL ETC KONSTANT ´ + ANDEREN FLAGS UND NUR FLAGS IN EINER SECTION: ZAHLEN WERDEN VOM AKTUELLEN ZUSTAND ENTNOMMEN <br/>
WAS IST PICO SEKUNDEN<br/>
HERZ NORMAL QUARZFREQUENZ<br/>
sTACK: ZIELEN: NUMMER; PROGRAMMZÄHLER MAX 8 ZEILEN<br/>
SFR: GRUNDLAGEN ZUR PIC PROGRAMMIERUNG UND EINFACHE CODESEQUENZ TABELLE AUF SEITE 5<br/>
IO PINS WIE KLEINE TABELLE BEI PROGRAMM ABER UM 90 GRAD DREHEN<br/>
CONSOLE; SIMULATOR STATE ?<br/>

<I>PROGRAMMZÄHLER : ZEIGT AUF AKTUELLES ODER NÄCHSTES BEFEHL? WIE IMPLEMENTIEREN WENN NÄCHSTES?</I><br/>
<I>BANKEN IMPLEMENTIERN: NUR 2 ODER ALLE BANKEN</I><br/>
## Backend
### Befehle 
- MOVLW, ADDLW, SUBLW ( einfachen Literalbefehle)
   </br>
   </br>
  <b>MOVLW</b>
  <pRE>
    BEWEGT LITERALWERT(Z.B: 0b1111_1111) IN DEN W-REGISTER
    PSEUDOCODE:
    W-REGISTER = 0;
    MOVLW K(0b1111_1111); <I> </I>
    FETCH
   -> PROGRAMMZÄHLER ZEIGT AUF BEFEHL
    DECODE
   -> BEFEHLSCODE MIT MASKE FILTERN
    LITRALCODE MIT MASKE FILTERN
    EXECUTE
    -> W-REGISTER=LITERALCODE
  </pRE>
  </br>
  <b>ADDLW</b>
<pRE>
    ADDIERT LITERALWERT(Z.B: 0b1111_1111) IN DEN W-REGISTER
    PSEUDOCODE:
    W-REGISTER = 0;
    ADDLW K(0b1111_1111); <I> 0 ≤ k ≤ 255</I>
    FETCH
   -> PROGRAMMZÄHLER ZEIGT AUF BEFEHL
    DECODE
   -> BEFEHLSCODE MIT MASKE FILTERN
    LITRALCODE MIT MASKE FILTERN
    EXECUTE
  ERGEBNIS=W-REGISTER+LITERALCODE
  -> IST CARRYBIT;DIGITCARRYBIT;ZEROFLAG BEEINFLUSST? WENN JA DANN BIT SETZEN WENN NICHT DANN 0 SETZEN  <I> WAS WENN ADDLW UND DANN NACH MOVLW </I>
     W-REGISTER=ERGEBNIS
  </pRE>
 </br>
  </br>
  <b>SUBLW</b>
 <pRE>
    SUBTRAHIEREN LITERALWERT(Z.B: 0b1111_1111) IN DEN W-REGISTER
    PSEUDOCODE:
    W-REGISTER = 0;
    SUBLW K(0b1111_1111); <I>0 ≤ k ≤ 255 </I>
    FETCH
   -> PROGRAMMZÄHLER ZEIGT AUF BEFEHL
    DECODE
   -> BEFEHLSCODE MIT MASKE FILTERN
    LITRALCODE MIT MASKE FILTERN
    EXECUTE
  ERGEBNIS=W-REGISTER-LITERALCODE
  -> IST CARRYBIT;DIGITCARRYBIT;ZEROFLAG BEEINFLUSST? WENN JA DANN BIT SETZEN WENN NICHT DANN 0 SETZEN  
     W-REGISTER=ERGEBNIS
  </pRE>
  </br>
#### vereinfacht, ohne Rücksicht auf PCLATH
- CALL, GOTO
   </br>
   </br>
  <b>CALL</b> <I>FRAGE: LITERAL=PROGRAMMZÄHLER; WIE AUFRUF DURCH LABEL(VARIABLE?)</I>
 </pRE>
 </br>
 <pRE>
   SPRINGT AUF ANDERE BEFEHL IM PROGRAMM UND DER PROGRAMZÄHLER WIRD IM *STACK* GESPEICHERT UND *RETURN* RUFT PROGRAMMZÄHLER IM STACK AUF<I>SPÄTER WEITER</I>
   <BR>
   PSEUDOCODE:
   CALL K(0b1111_1111) <I>0 ≤ k ≤ 2047</I>
  FETCH
   -> PROGRAMMZÄHLER ZEIGT AUF BEFEHL
    DECODE
   -> BEFEHLSCODE MIT MASKE FILTERN
    LITRALCODE MIT MASKE FILTERN
    EXECUTE
   ->RAM[GESPRUNGENER PC] WIRD AUSGEFÜHRT
   
    PSEUDOCODE:
    W-REGISTER = 0;
    SUBLW K(0b1111_1111); <I>0 ≤ k ≤ 255 </I>
    FETCH
   -> PROGRAMMZÄHLER ZEIGT AUF BEFEHL
    DECODE
   -> BEFEHLSCODE MIT MASKE FILTERN
    LITRALCODE MIT MASKE FILTERN
    EXECUTE
   CALL 
  ERGEBNIS=W-REGISTER-LITERALCODE
  -> IST CARRYBIT;DIGITCARRYBIT;ZEROFLAG BEEINFLUSST? WENN JA DANN BIT SETZEN WENN NICHT DANN 0 SETZEN  
     W-REGISTER=ERGEBNIS
  </pRE>
  </br>
   </br>
   </br>
  <b>GOTO</b>
  <p>
    BEWEGT LITERALWERT(Z.B: 0b1111_1111) IN DEN W-REGISTER
    PSEUDOCODE:
    GOTO
    
  </p>
  </br>
  #### nur direkte Adressierung, aber mit d-Bit Auswert.
-  MOVWF, MOVF, SUBWF
   </br>
   </br>
  <b>MOVWF</b>
  <p>
    BEWEGT LITERALWERT(Z.B: 0b1111_1111) IN DEN W-REGISTER
    PSEUDOCODE:
    MOVWF
    
  </p>
  </br>
   </br>
   </br>
  <b>MOVF</b>
  <p>
    BEWEGT LITERALWERT(Z.B: 0b1111_1111) IN DEN W-REGISTER
    PSEUDOCODE:
    MOVF
    
  </p>
  </br>
   </br>
   </br>
  <b>SUBWF</b>
  <p>
    BEWEGT LITERALWERT(Z.B: 0b1111_1111) IN DEN W-REGISTER
    PSEUDOCODE:
    SUBWF
    
  </p>
  </br>
  
  #### nur direkte Adressierung, aber mit d-Bit Auswert
   </br>
   </br>
  <b>DCFSZ</b>
  <p>
    BEWEGT LITERALWERT(Z.B: 0b1111_1111) IN DEN W-REGISTER
    PSEUDOCODE:
    DCFSZ
    
  </p>
  </br>
   </br>
   </br>
  <b>MOVLW</b>
  <p>
    BEWEGT LITERALWERT(Z.B: 0b1111_1111) IN DEN W-REGISTER
    PSEUDOCODE:
    W-REGISTER = 0;
    MOVLW K(0b1111_1111); <I></I>
    
  </p>
  </br>
-  DCFSZ, INCFSZ, RLF, RRF

  #### direkt und indirekt Adressierung
  -(BYTEBEFEHLE)
-  BSF, BCF, BTFSC, BTFSS
-  (Bytebefehle)
